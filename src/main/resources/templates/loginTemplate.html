<!DOCTYPE html>
<html lang="en"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

    <style>
        #loginForm > *{
            display:block;
        }
    </style>
</head>
<body>

<!-- Thymeleaf fragments. Dynamically copies HTML contained another template file
Syntax of th:replace value is "name_of_template_file :: value_of_html_element_with_th:fragment_as_an_attribute"
Go to baseTemplate.html and find the <header> element with the attribute th:fragment="header"
-->
<header th:replace="baseTemplate :: header"></header>

<main>
    <!-- If the url contains a parameter called 'error'. Show
    a paragraph element detailing that an error occurred.
    See WebSecurityConfig2
    -->
    <p th:if="${param.error != null}" th:text="ERROR"></p>

    <form id="loginForm" action="/login" method="post">
        <label for="un">Username:</label>
        <input id="un" name="username" type="text"/>
        <label for="pw">Password:</label>
        <input id="pw" name="password" type="password"/>

        <!--
        Required to protect against CSRF attacks.
        See: https://www.owasp.org/index.php/Cross-Site_Request_Forgery_(CSRF)
        See: https://www.baeldung.com/spring-security-csrf
        See: https://www.baeldung.com/csrf-thymeleaf-with-spring-security
        -->
        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
        <input id="sub" type="submit"/>
    </form>
    <p>No account? Register <a href="/register">Here</a></p>
</main>

</body>
</html>